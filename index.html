<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="yall.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", yall);
    </script>
  </head>
  <body>

    <div id='app'>

      <transition name="fade">
        <div class="splash screen" v-if="showSplash">
  
          <!-- <h1 class="text-red">NO FLASH</h1> -->
          <canvas width="1458" height="208"></canvas>
          <footer class="text-red italic">directed by a. n. zanota</footer>
        
        </div>
      </transition>
      
      <transition name="fade">

        <div key="menu" class="menu screen" v-if="state === 'menu'">

          <div class="items">
            <span v-for="(category, i) in categories" class="text-red bold button" 
              @mouseover="hoveredCategory = i"
              @mouseout="hoveredCategory = -1"
              @click="selectedCategory = i; state = `category_${i+1}`">{{windowWidth > 768 ? i + 1 : category.name}}</span>
          </div>

          <transition name="fade">
            <footer class="text-red italic" v-if="hoveredCategory !== -1" :style="`display: ${windowWidth > 768 ? 'auto' : 'none'}`">{{categories[hoveredCategory].name}}</footer>
          </transition>
        
        </div>

        <div key="article-selection" class="article-selection screen" v-else-if="/category_[0-9]+/.test(state)">

          <header class="text-red italic">{{currentCategory.name}}</header>

          <template v-if="currentCategory.type === 'articles'">

            <transition-group name="fade">
              <img v-for="(article, i) in currentCategory.articles" :key="article.name" :src="article?.previewImgSrc" v-show="currentCategory.articles[hoveredArticle]?.name === article.name && windowWidth > 768">
            </transition-group>
  
            <div class="items">
              
              <span v-for="(article, i) in currentCategory.articles"
                @mouseover="hoveredArticle = i; updateImages()"
                @mouseout="hoveredArticle = -1"
                @click="selectedArticle = i; state = (selectedCategory + 1) + '_' + article.name.split(' ').join('_')">
                <span class="bold">({{i + 1}})</span> <span class="serif">{{article.name}}</span>&nbsp;
              </span>
  
            </div>

          </template>

          <template v-else-if="currentCategory.type === 'images'">
            
            <div v-html="currentCategory.el.innerHTML"></div>

          </template>

          <template v-else-if="currentCategory.type === 'text'">
            
            <div v-html="currentCategory.el.innerHTML"></div>

          </template>


          <footer class="text-red italic button" @click="back">back</footer>
        
        </div>

        <div key="article-reader" class="article-reader screen" v-else>
          <h1><span class="bold">({{selectedArticle + 1}})</span> <span class="serif">{{currentArticle.name}}</span></h1>
          <div class="article" v-html="currentArticle.el.innerHTML"></div>
          <p class="button italic center serif" @click="back">back</p>
        </div>

      </transition>

      <!-- START CONTENT DATA -->
      <div class="articles-data">

        <div class="category" data-name="architecture" data-type="articles">

          <div class="article" data-name="house for an enemy">
            <img src="images/loading.png" class="lazy" data-src="images/1/house for an enemy/GL-S-01.png">
          </div>

          <div class="article" data-name="les invalides" data-preview-src="images/1/les invalides/PARIS-DEUX-4-CH-01.png">
            <img src="images/loading.png" class="lazy" data-src="images/1/les invalides/PARIS-DEUX-1.1-E-10.png">
            <img src="images/loading.png" class="lazy" data-src="images/1/les invalides/PARIS-DEUX-2-S-03.png">
            <img src="images/loading.png" class="lazy" data-src="images/1/les invalides/PARIS-DEUX-2-S-04.png">
            <img src="images/loading.png" class="lazy" data-src="images/1/les invalides/PARIS-DEUX-4-CH-01.png">
            <img src="images/loading.png" class="lazy" data-src="images/1/les invalides/PARIS-DEUX-5-SB-01.png">
            <p>exercitationem ratione molestias.
              </p>
            <table>
              <tr>
                <td class="bold sans-serif">ABOUT</td>
                <td>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Reiciendis laboriosam eaque eligendi, amet fugiat repellat quod est dolorum molestias fuga enim placeat voluptatum libero perferendis impedit molestiae, deleniti eum labore.</td>
              </tr>
              <tr>
                <td class="bold sans-serif">DESCRIPTION</td>
                <td>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Possimus laudantium facilis consequatur sapiente ex nemo quas fugiat blanditiis ipsa, praesentium debitis natus non quasi neque magnam autem voluptates temporibus molestias.
                Nobis placeat eum architecto cum doloribus blanditiis rem harum necessitatibus unde, quasi animi, mollitia dolor nemo non accusantium aliquid quibusdam odio laboriosam magni laudantium explicabo quis. Et iusto alias cupiditate?</td>
              </tr>
            </table>
          </div>

          <div class="article" data-name="the third room">
            <img src="images/loading.png" class="lazy" data-src="">
          </div>
          
          <div class="article" data-name="imaged house">
            <img src="images/loading.png" class="lazy" data-src="">
          </div>
          
          <div class="article" data-name="maison des jours meilleurs">
            <img src="images/loading.png" class="lazy" data-src="">
          </div>
          
          <div class="article" data-name="incredulitÃ  di san tommaso">
            <img src="images/loading.png" class="lazy" data-src="">
          </div>
          
          <div class="article" data-name="impression, soleil levant" data-preview-src="images/1/impression/Z-Seegarten-Morning-B-04.jpg">
            <img src="images/loading.png" class="lazy" data-src="images/1/impression/Z-Seegarten-Morning-EXT-04.jpg">
            <img src="images/loading.png" class="lazy" data-src="images/1/impression/Z-Seegarten-Morning-EXT-03.jpg">
            <img src="images/loading.png" class="lazy" data-src="images/1/impression/Z-Seegarten-Morning-B-04.jpg">
          </div>
         
          </div>

        <div class="category" data-name="furniture" data-type="articles">

          <div class="article" data-name="marble table">
            <img src="images/loading.png" class="lazy" data-src="images/2/marble-table/fmf-MARBLE-03.jpg">
            <img src="images/loading.png" class="lazy" data-src="images/2/marble-table/fmf-MARBLE-02.jpg">
          </div>

        </div>

        <div class="category" data-name="research" data-type="research">

        </div>

        <div class="category" data-name="references" data-type="articles">

        </div>

        <div class="category" data-name="index" data-type="images">

        </div>

        <div class="category" data-name="about" data-type="text">

          lijawddlawjdliajwdl

        </div>

      </div>
      <!-- END CONTENT DATA -->

    </div>
    
    <script src="app.js"></script>
  </body>
</html>
